# CET-6 听力练习应用

一个专业的英语六级听力训练应用，提供完整的听力练习体验，从文本解析到语音合成，再到交互式答题系统。

## 🌟 主要功能

### 1. 智能语音合成系统
- **多语音支持**：集成 325+ 种语音，包括美式、英式、澳式英语等
- **性别自动识别**：准确识别男女声音，实现角色语音分配
- **速度控制**：支持 0.5x-1.5x 倍速播放，适应不同听力水平
- **美式英语优先**：自动优先选择 en-US 语音，提供最标准的美式英语听力体验

### 2. 模拟真实CET-6考试环境
- **默认隐藏模式**：启动时隐藏对话内容和题目标题，模拟真实考试
- **选项优先显示**：只显示题目编号和选项，不提供额外提示
- **渐进式揭示**：完成练习后可查看对话原文和题目内容

### 3. 交互式答题系统
- **可视化答题**：点击选项即可选择，实时显示已答题数
- **答案验证**：提交后显示正确答案和详细解析
- **成绩统计**：自动计算得分，显示通过/未通过状态
- **进度控制**：必须完成所有题目才能提交

### 4. 单词学习功能
- **即点即学**：点击对话文本中的任意单词进行学习
- **掌握管理**：点击标记单词为"已掌握"（绿色下划线）
- **视觉区分**：已掌握单词特殊显示，方便复习
- **自主管理**：每个单词的学习状态可以反复切换

### 5. 语音调试与管理
- **语音库管理**：分类管理 58+ 男声和 17+ 女声
- **实时调试面板**：显示总语音数量和分类统计
- **手动语音选择**：可手动选择特定的人声进行播放
- **语音测试**：单独测试女声和男声效果

### 6. 用户体验优化
- **响应式设计**：支持桌面、平板、手机多设备
- **进度指示**：音频播放进度条和实时时间显示
- **逐句播放**：点击每句旁的🔊图标单独朗读
- **一键停止**：随时停止播放，避免声音重叠

## 🚀 快速开始

### 在线使用（推荐）

1. **打开文件**：双击 `CET-6 听力练习应用.html` 文件
2. **允许语音权限**：首次使用时允许浏览器访问语音合成
3. **开始练习**：点击"播放对话"按钮开始听力练习

### 浏览器要求
- 支持 Web Speech API 的现代浏览器
- 推荐使用 Chrome、Edge 或 Safari
- 需要网络连接以下载语音数据

### 功能快捷键
- **播放对话**：点击播放按钮或选择播放速度
- **隐藏/显示内容**：使用顶部的切换按钮
- **单词学习**：直接点击对话中的单词
- **答案选择**：点击选项字母

## 🎮 使用指南

### 标准练习流程

1. **听音频**
   - 点击"播放对话"按钮开始听力
   - 调节播放速度到合适水平
   - 可重复播放，或点击单句单独播放

2. **答题**
   - 根据听到的内容选择答案（题目标题默认隐藏）
   - 完成所有 4 道题目
   - 点击"提交答案"查看结果

3. **查看解析**
   - 查看正确答案和详细解析
   - 查看得分和通过状态
   - 可选：显示对话内容和题目，进行精听学习

4. **单词学习**
   - 查看对话原文
   - 点击不认识的单词进行标记
   - 已掌握单词会显示绿色下划线

### 语音管理

- **语音选择**：在语音控制面板选择特定人声
- **速度调节**：0.5x（慢速）到 1.5x（快速）
- **性别分配**：女声角色自动使用女声，男声角色使用男声
- **美式英语**：自动优先选择 en-US 语音

## 🛠 技术实现

### 核心技术栈
- **HTML5 + CSS3**：现代化前端技术
- **Vanilla JavaScript**：原生 JS 实现，无需框架
- **Web Speech API**：浏览器原生语音合成
- **响应式设计**：CSS Grid 和 Flexbox 布局

### 关键技术特性

#### 1. 语音智能分配
- 基于准确的人声列表（来自 `男女声列表.txt`）
- 自动识别 325+ 种语音的性别
- 优先选择美式英语（en-US）语音
- 自动更新下拉列表显示当前选中语音

#### 2. 考试环境模拟
- 默认隐藏对话内容和题目标题
- 只显示题目编号和选项（模拟 CET-6 真题）
- 提供切换按钮，可查看完整内容和解析

#### 3. 播放控制优化
- 解决停止按钮的反复播放 BUG
- 使用标志位 `isPlaying` 控制播放状态
- 防止音频重叠和意外重新播放
- 逐句播放和整体播放无缝切换

#### 4. 数据管理
- 使用 LocalStorage 保存学习进度（可扩展）
- 单词掌握状态本地存储
- 答题记录和成绩统计

### AI 模型贡献

在开发过程中，以下 AI 模型发挥了关键作用：

#### 🤖 Claude Code
- **核心功能实现**：主程序架构设计和整体代码组织
- **BUG 修复**：解决语音播放停止后自动重新播放的问题
- **交互优化**：改进按钮切换逻辑和用户体验
- **文档编写**：README 文件的结构化编写

#### 🧠 GLM-4 (智谱 AI)
- **文本解析**：从原始文本提取对话内容和题目信息
- **数据转换**：将文本转换为结构化数据格式
- **初步实现**：基础版本的语音播放功能
- **文件处理**：批量处理语音列表文件

#### 💬 Kimi K2 Thinking Turbo
- **语音分类**：识别并分类 325+ 种语音的性别
- **逻辑优化**：完善人机语音分配算法
- **功能增强**：添加美式英语优先选择功能
- **界面改进**：语音选择下拉列表自动更新

### 文件说明

```
筛选不懂的单词/
├── CET-6 听力练习应用.html    # 主应用文件
├── 男女声列表.txt              # 语音性别分类数据
├── README.md                   # 项目说明文档
├── known_words.txt            # 已掌握单词列表
├── remaining_words.txt        # 待学习单词列表
└── ...其他学习资源文件
```

## 📊 功能对比

| 功能 | 传统播放器 | 本应用 |
|-----|-----------|--------|
| 语音种类 | 单一 | 325+ 种 |
| 考试模拟 | ❌ | ✅ 默认隐藏 |
| 单词标记 | ❌ | ✅ 点击即学 |
| 答案解析 | ❌ | ✅ 详细解析 |
| 速度调节 | ⚠️ 有限 | ✅ 0.5x-1.5x |
| 逐句播放 | ❌ | ✅ 支持 |
| 语音分类 | ❌ | ✅ 准确识别 |
| 美式英语优先 | ❌ | ✅ 自动选择 |

## 🔧 自定义配置

### 修改对话内容

1. 打开 `CET-6 听力练习应用.html`
2. 搜索 `// 对话数据，包含性别信息` 注释
3. 修改 `dialogueData` 数组中的对话内容
4. 同时更新 HTML 部分的对话显示

### 添加新题目

1. 在 `questions-content` 区域添加新的 `question-item`
2. 包含 `question-number`、`question-text` 和四个 `option-item`
3. 在 `correctAnswers` 对象中添加正确答案

### 扩展语音库

1. 更新 `男女声列表.txt` 文件中的语音分类
2. 在 `forceInitializeVoices()` 函数中同步更新 `femaleNames` 和 `maleNames` 数组
3. 重新加载页面即可生效

## 🐛 常见问题

**Q: 为什么点击播放没有声音？**
A: 请检查：1) 浏览器是否支持 Web Speech API；2) 是否允许语音合成权限；3) 网络是否正常连接。

**Q: 语音听起来不自然？**
A: 尝试在语音控制面板选择不同的人声，或在 `男女声列表.txt` 中添加更多语音选项。

**Q: 如何添加自己的听力材料？**
A: 按照格式修改对话数据和题目内容，或使用其他AI模型（如 Claude、Kimi）帮助解析文本。

**Q: 数据会丢失吗？**
A: 当前版本数据存储在浏览器中，清除浏览器数据会丢失。后续可添加 LocalStorage 持久化功能。

**Q: 支持哪些浏览器？**
A: 推荐使用 Chrome、Edge 或 Safari。部分国产浏览器可能不支持 Web Speech API。

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

### 如何在AI辅助下贡献代码

本项目展示了 AI 辅助编程的最佳实践：
- **Claude Code**：架构设计和BUG修复
- **GLM-4**：文本处理和数据转换
- **Kimi**：逻辑优化和功能增强

您可以参考这种模式，使用 AI 工具：
1. 分析需求，拆分为小任务
2. 选择合适的 AI 模型处理不同类型的工作
3. 人工审核和测试AI生成的代码
4. 持续迭代优化

---

**开发方式**：AI辅助编程 + 人工调优
**核心AI模型**：Claude Code、GLM-4、Kimi K2 Thinking Turbo
**更新时间**：2024年11月
**版本号**：2.0.0
